<div class="instruction" *ngIf="show">
  <div class="instruction-header">
    <span class="instruction-title">Quick Guide</span>
    <button 
      type="button" 
      class="close" 
      (click)="onClose()" 
      aria-label="Close instructions"
      title="Close instructions">
      &times;
    </button>
  </div>
  
  <div class="instruction-content">
    <div class="step" [class.completed]="step1Finished">
      <div class="step-info">
        <span class="step-title">Select nameserver history file <span class="required">*</span></span>
        <div class="step-details">
          <div class="step-desc">• Click the <strong>"Browse"</strong> button to select a file</div>
          <div class="step-desc">• Drag and drop your file into the <strong>"Drop File Here"</strong> area</div>
        </div>
      </div>
      <span class="step-status" [class.completed]="step1Finished">{{ step1Finished ? '✓' : '' }}</span>
    </div>

    <div class="step" [class.completed]="step2Finished">
      <div class="step-info">
        <span class="step-title">Configure time range and timezone <span class="optional">(optional)</span></span>
        <div class="step-details">
          <div class="step-desc">• If no time range is selected, the tool will read from the beginning until reaching the configured maximum row limit</div>
          <div class="step-desc">• If no timezone is selected, the tool will use your local default timezone</div>
        </div>
      </div>
      <span class="step-status" [class.completed]="step2Finished">{{ step2Finished ? '✓' : '' }}</span>
    </div>

    <div class="step" [class.completed]="step3Finished">
      <div class="step-info">
        <span class="step-title">Configure port <span class="optional">(optional)</span></span>
        <div class="step-details">
          <div class="step-desc">• If no port is selected, the tool will load data for all available ports until reaching the maximum row limit</div>
          <div class="step-desc">• When a specific port is selected, the tool will only load data for that port until reaching the maximum row limit</div>
          <div class="step-desc">• If you're unsure about available ports, click <strong>"Load"</strong> to discover all ports from the nameserver history file</div>
        </div>
      </div>
      <span class="step-status" [class.completed]="step3Finished">{{ step3Finished ? '✓' : '' }}</span>
    </div>

    <div class="step" [class.completed]="step4Finished">
      <div class="step-info">
        <span class="step-title">Generate and display the chart <span class="required">*</span></span>
        <div class="step-details">
          <div class="step-desc">• Click the <strong>"Show"</strong> button to load data and generate the visualization</div>
        </div>
      </div>
      <span class="step-status" [class.completed]="step4Finished">{{ step4Finished ? '✓' : '' }}</span>
    </div>

    <div class="step" [class.completed]="step5Finished">
      <div class="step-info">
        <span class="step-title">Reset chart view <span class="optional">(optional)</span></span>
        <div class="step-details">
          <div class="step-desc">• If you have zoomed into the chart, click <strong>"Reset Chart"</strong> to return to the original view</div>
        </div>
      </div>
      <span class="step-status" [class.completed]="step5Finished">{{ step5Finished ? '✓' : '' }}</span>
    </div>
  </div>
</div>